- 基本类型与引用类型
- 执行环境
- 垃圾收集

# JS变量可以用来保存两种类型的值：基本类型和引用类型
  - 基本类型值在内存中占据固定大小的空间，因此被保存在栈内存中
  - 从一个变量向另一个变量复制基本类型的值，会创建这个值的一个副本
  - 引用类型的值是对象，保存在堆内存中
  - 包含引用类型值的变量实际上包含的并不是对象本身而是一个指向对象的指针
  - 引用类型值的复制，复制的是指针，两个变量指向同一对象
  - 确定基本类型用 *typeof* ，确定引用类型用 *instanceof* 
  
# 执行环境（execution context）/作用域
  所有变量（基本类型和引用类型）都存在一个执行环境（也称为作用域）当中，这个执行环境决定了变量的生命周期以及可访问性。
  - 执行环境分为全局执行环境和函数执行环境
  - 每次进入一个新的环境，都会创建一个用于搜索变量和函数的**作用域链**（作用域链可以保证对所有执行环境中可访问的变量和函数的有序访问）
  - 函数的局部环境既可以访问函数作用域中的变量，又有权访问其包含环境，乃至全局环境中的变量
  - 全局环境只能访问在全局环境中定义的变量和函数而不能直接访问局部环境中的任何数据
  - 变量的执行环境有助于确定应该何时释放内存
  
# 垃圾收集
  JS具有自动垃圾收集机制，developer不必关系内存分配和回收问题
  - 离开作用域的值将被自动标记为可以回收，将在垃圾收集期间被删除
  - “标记清除”是目前主流的垃圾收集算法。这种算法的思想是给当前不使用的值加标记，然后再回收其内存
  - 另一种垃圾收集算法是“引用计数”，思想是跟踪记录所有值被引用的次数。由于循环引用等问题，JS引擎目前都不再使用这种算法。
  - 出于安全方面的考虑，OS分配给Web浏览器的可用内存数量通常要比分配给桌面应用程序的少，目的是防止运行JS的网页耗尽全部系统内存而导致系统崩溃。
  - 一旦数据不再有用，最好通过将其值设置为null来释放其引用（这个方法叫做**解除引用**）
  ```javascript
  function create(value){
   var localV = new Object();
   localV.value = value;
   return localV;
  }
  var globalV = create(100);
  //手工解除globalPerson的引用
  globalV = null;
  ```
  - 解除引用并不能自动回收该值占用的内存，其的真正作用是让值脱离执行环境，以便下一次垃圾收集期间被回收。
